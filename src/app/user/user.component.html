<div class="ui-g">

  <div class="ui-g-12">
    <p-messages [(value)]="msgs"></p-messages>
  </div>

  <form #f="ngForm" name="userForm" autocomplete="off" (ngSubmit)="save(f)">
    <div class="ui-g-12">
      <h1>Users</h1>
    </div>

    <div class="ui-g-12 ui-md-6 ui-fluid">
      <label>First name</label>
      <input pInputText type="text" name="firstName" [(ngModel)]="user.firstName" #firstName="ngModel" required>
    </div>

    <div class="ui-g-12 ui-md-6 ui-fluid">
      <label>Last name</label>
      <input pInputText type="text" name="lastName" [(ngModel)]="user.lastName" #lastName="ngModel" required>
    </div>

    <div class="ui-g-12 ui-md-4 ui-fluid">
      <label>E-mail</label>
      <input pInputText type="text" name="email" [(ngModel)]="user.email" #email="ngModel" required>
    </div>

    <div class="ui-g-12 ui-md-4 ui-fluid">
      <label>Birthday</label>
      <p-calendar  name="birthday" [monthNavigator]="true" [readonlyInput]="true" [yearNavigator]="true" yearRange="1800:2020"
        dateFormat="dd/mm/yy" [(ngModel)]="user.birthday" #birthday="ngModel" required>
      </p-calendar>
    </div>

    <div class="ui-g-12 ui-md-4 ui-fluid">
      <label>Phone</label>
      <p-inputMask mask="(99) 9999-9999" type="text" name="phone" [(ngModel)]="user.phone" #phone="ngModel" required>
      </p-inputMask>
    </div>

    <div class="ui-g-12 ui-md-2 ui-fluid">
      <label>Login</label>
      <input pInputText type="text" name="login" [(ngModel)]="user.login" #login="ngModel" required>
    </div>

    <div class="ui-g-12 ui-md-2 ui-fluid">
      <label>Password</label>
      <input pInputText [disabled]="user.id != undefined" type="password" name="password" [(ngModel)]="user.password"
        #password="ngModel" required>
    </div>

    <div class="ui-g-12">
      <button pButton type="submit" [disabled]="f.invalid" label="Salvar"></button>
    </div>
  </form>

  <div class="ui-g-12 ui-fluid">
    <p-table [value]="users" [responsive]="true">
      <ng-template pTemplate="header">
        <tr>
          <th style="width: 5%;">ID</th>
          <th>First name</th>
          <th>Last name</th>
          <th>Phone</th>
          <th>Login</th>
          <th>Email</th>
          <th>Birthday</th>
          <th>Actions</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-user>
        <tr>
          <td>{{user.id}}</td>
          <td>{{user.firstName }}</td>
          <td>{{user.lastName}}</td>
          <td>{{user.phone}}</td>
          <td>{{user.login}}</td>
          <td>{{user.email}}</td>
          <td>{{user.birthday | date: 'dd/MM/yyyy'}}</td>
          <td style="text-align: center">
            <p-button icon="pi pi-pencil" (click)="edit(user)"></p-button>
            <p-button icon="pi pi-trash" (click)="remove(user)"></p-button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
